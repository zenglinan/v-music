(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1080df6c"],{"01fd":function(t,e,n){},1257:function(t,e,n){"use strict";var r=n("5a25");n.n(r).a},"15e3":function(t,e,n){"use strict";n.r(e);var r=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("2909")),i=n("ade3"),a=n("7f5c"),o=n("ee34"),s=n("4e4f"),c=n("bc49"),l=n("2f62");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var f={name:"NewSongs",mixins:[n("510f").a],data:function(){return{hotSingers:[],loadingMore:!1,allowToLoad:!0}},components:{NIcon:o.a,NScroll:s.a,NLoading:c.a},mounted:function(){this._getHotSingers(12)},methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({adjustPlaylist:function(t){var e=t.length?"180px":"";this.$refs.singerlist.$el.style.bottom=e,this.$refs.singerlist.refresh()},_getHotSingers:function(t){var e=this;Object(a.a)(t).then((function(t){var n;return t.data.artists.length||(e.listenToScroll=function(){}),e.allowToLoad=!0,e.loadingMore=!1,(n=e.hotSingers).push.apply(n,Object(r.a)(t.data.artists)),t.artists})).then((function(t){}))},listenToScroll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.y,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.maxScrollY;e<r+20&&this.allowToLoad&&(this.loadingMore=!0,this.allowToLoad=!1,this._getHotSingers(12))},toSingerDetail:function(t){this.$router.push({path:"/singer/".concat(t.id)}),this.setSinger(t)}},Object(l.d)({setSinger:"SET_SIGNER"}))},d=(n("b1fe"),n("2877")),p=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"singer"}},[t._m(0),n("div",{staticClass:"list"},[n("n-scroll",{ref:"singerlist",staticClass:"wrapper",attrs:{data:t.hotSingers,"probe-type":3},on:{scroll:t.listenToScroll}},[n("ul",[t._l(t.hotSingers,(function(e,r){return n("li",{key:r,staticClass:"singerItem",on:{click:function(n){return t.toSingerDetail(e)}}},[n("div",{staticClass:"name"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl+"?param=300x300",expression:"`${item.picUrl}?param=300x300`"}],attrs:{alt:"avatar"}}),n("span",[t._v(t._s(e.name))])]),n("div",{staticClass:"follow"},[t._v("+ 关注")])])})),n("n-loading",{directives:[{name:"show",rawName:"v-show",value:t.loadingMore,expression:"loadingMore"}],staticClass:"loadingMore"})],2)])],1),n("n-loading",{directives:[{name:"show",rawName:"v-show",value:!t.hotSingers.length,expression:"!hotSingers.length"}],staticClass:"loading"}),n("transition",{attrs:{name:"slide-fade"}},[n("router-view")],1)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",{staticClass:"top"},[n("p",[t._v("全部歌手")])]),n("p",{staticClass:"bottom"},[t._v("热门歌手")])])}],!1,null,"0e609e6b",null);e.default=p.exports},2909:function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"a",(function(){return r}))},"510f":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),i=n("2f62");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var o={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(i.c)(["playlist"])),mounted:function(){this.adjustPlaylist(this.playlist)},activated:function(){this.adjustPlaylist(this.playlist)},watch:{playlist:function(){this.adjustPlaylist(this.playlist)}},methods:{adjustPlaylist:function(t){throw Error("adjustPlaylist has not defined")}}}},"5a25":function(t,e,n){},"7f5c":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n("a417");function i(t){var e=i.offset;return i.offset+=t,Object(r.a)({url:"/top/artists",params:{limit:t,offset:e}})}function a(t){return Object(r.a)({url:"/artists",params:{id:t}})}i.offset=0},b1fe:function(t,e,n){"use strict";var r=n("01fd");n.n(r).a},bc49:function(t,e,n){"use strict";var r={name:"NLoading",components:{NIcon:n("ee34").a}},i=(n("1257"),n("2877")),a=Object(i.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("n-icon",{staticClass:"icon",attrs:{href:"loading"}})],1)}),[],!1,null,"228f4f51",null);e.a=a.exports}}]);
//# sourceMappingURL=chunk-1080df6c.95ff5442.js.map