(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-24ea52b6"],{1257:function(t,e,n){"use strict";var r=n("5a25");n.n(r).a},"22f9":function(t,e,n){"use strict";var r=n("cc98");n.n(r).a},"510f":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),a=n("2f62");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var i={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(a.c)(["playlist"])),mounted:function(){this.adjustPlaylist(this.playlist)},activated:function(){this.adjustPlaylist(this.playlist)},watch:{playlist:function(){this.adjustPlaylist(this.playlist)}},methods:{adjustPlaylist:function(t){throw Error("adjustPlaylist has not defined")}}}},"5a25":function(t,e,n){},"6c4f":function(t,e,n){t.exports=n.p+"img/avatar-loading.85723203.jpg"},"7f5c":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var r=n("a417");function a(t){var e=a.offset;return a.offset+=t,Object(r.a)({url:"/top/artists",params:{limit:t,offset:e}})}function s(t){return Object(r.a)({url:"/artists",params:{id:t}})}a.offset=0},b0c0:function(t,e,n){var r=n("83ab"),a=n("9bf2").f,s=Function.prototype,i=s.toString,c=/^\s*function ([^ (]*)/,o="name";!r||o in s||a(s,o,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},b87b:function(t,e,n){"use strict";n.r(e);var r=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),a=n("c18f"),s=n("7f5c"),i=n("f5de"),c=n("2f62");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var l=n("6c4f"),u={name:"SingerDetail",data:function(){return{avatarUrl:l,songs:[]}},components:{NMusicList:a.a},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(c.c)(["singer"])),created:function(){var t=this.$route.params.id;this._getSingerDetail(t)},watch:{singer:function(){var t=this.$route.params.id;this._getSingerDetail(t)}},methods:{_getSingerDetail:function(t){var e=this;Object(s.b)(t).then((function(t){e.songs.length=0,t.data.hotSongs.forEach((function(n){e.songs.push(Object(i.a)(n)),e.avatarUrl="".concat(t.data.artist[0].picUrl,"?param=300x300")}))}))}}},f=n("2877"),b=Object(f.a)(u,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("n-music-list",{attrs:{avatarUrl:t.avatarUrl,songs:t.songs}})}),[],!1,null,"a0451fa2",null);e.default=b.exports},bc49:function(t,e,n){"use strict";var r={name:"NLoading",components:{NIcon:n("ee34").a}},a=(n("1257"),n("2877")),s=Object(a.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("n-icon",{staticClass:"icon",attrs:{href:"loading"}})],1)}),[],!1,null,"228f4f51",null);e.a=s.exports},c18f:function(t,e,n){"use strict";var r,a=(n("a4d3"),n("4de4"),n("d81d"),n("fb6a"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),s=n("2f62"),i=n("ee34"),c=n("47b9"),o=n("bc49"),l=n("4e4f"),u=n("510f");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var b=10,p=100,h={name:"NMusicList",mixins:[u.a],props:{songs:{type:Array},avatarUrl:{type:String}},data:function(){return{scrollY:0}},components:{NIcon:i.a,NListItem:c.a,NLoading:o.a,NScroll:l.a},mounted:function(){this.bgImgHeight=this.$refs.bgImg.clientHeight,r="".concat(200-this.bgImgHeight),this.modifyStyle(this.$refs.list.$el,{top:"".concat(this.bgImgHeight,"px")})},computed:{bgStyle:function(){return"background-image:url(".concat(this.avatarUrl,")")}},watch:{scrollY:function(t){var e=Math.max(r,t);t<r?this.shrinkImgHeight():t>=0?this.enlargeImg(t):this.drawLayer(),this.modifyStyle(this.$refs.layer,{transform:"translate3d(0, ".concat(e,"px, 0)"),webkitTransform:"translate3d(0, ".concat(e,"px, 0)")})}},methods:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){Object(a.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({adjustPlaylist:function(t){var e=t.length?"180px":"";this.$refs.list.$el.style.bottom=e,this.$refs.list.refresh()},back:function(){this.$router.go(-1)},listenToScroll:function(t,e){var n=e.maxScrollY;this.scrollY=t.y,this.scrollY<=n&&this.$emit("scrollToBottom")},shrinkImgHeight:function(){this.modifyStyle(this.$refs.bgImg,{paddingTop:0,height:"".concat(200,"px"),zIndex:p})},enlargeImg:function(t){var e=1+Math.abs(t/this.bgImgHeight);this.modifyStyle(this.$refs.bgImg,{transform:"scale(".concat(e,")"),webkitTransform:"scale(".concat(e,")"),zIndex:p})},drawLayer:function(){this.modifyStyle(this.$refs.bgImg,{paddingTop:"70%",height:0,zIndex:b})},modifyStyle:function(t,e){var n=t.style.display;t.style.display="none",Object.keys(e).map((function(n){t.style[n]=e[n]})),t.style.display=n},selectSong:function(t){this.playSong({playlist:this.songs.slice(),index:t})},playHotSongs:function(){this.playSong({playlist:this.songs.slice(),index:0})}},Object(s.b)(["playSong"]))},g=(n("22f9"),n("2877")),d=Object(g.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{ref:"bgImg",staticClass:"desc",style:t.bgStyle},[n("header",[n("n-icon",{staticClass:"back",attrs:{href:"back"},on:{click:t.back}}),n("n-icon",{staticClass:"share",attrs:{href:"share"}})],1)]),n("div",{ref:"layer",staticClass:"layer"}),n("n-scroll",{ref:"list",staticClass:"scrollWrapper",attrs:{data:t.songs,"probe-type":3},on:{scroll:t.listenToScroll}},[n("div",{staticClass:"list"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.songs.length,expression:"songs.length !== 0"}],staticClass:"playAll",on:{click:t.playHotSongs}},[n("n-icon",{staticClass:"icon",attrs:{href:"pause_b"}}),n("span",[t._v("播放热门歌曲")])],1),t._l(t.songs,(function(e,r){return n("n-list-item",{key:r,staticClass:"listItem",attrs:{song:e.name,index:r,artist:e.artist,album:e.album},on:{click:t.selectSong}})}))],2)]),n("n-loading",{directives:[{name:"show",rawName:"v-show",value:!t.songs.length,expression:"!songs.length"}],staticClass:"loading"})],1)}),[],!1,null,"4eba2989",null);e.a=d.exports},cc98:function(t,e,n){},d4ec:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},d81d:function(t,e,n){"use strict";var r=n("23e7"),a=n("b727").map,s=n("d039"),i=n("1dde")("map"),c=i&&!s((function(){[].map.call({length:-1,0:1},(function(t){throw t}))}));r({target:"Array",proto:!0,forced:!i||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},f5de:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n("b0c0");var r=n("d4ec"),a=function t(e){var n=e.id,a=e.name,s=e.album,i=e.artist,c=e.albumId,o=e.albumPic;Object(r.a)(this,t),this.id=n,this.name=a,this.album=s,this.artist=i,this.albumId=c,this.albumPic=o};function s(t){return new a({id:t.id,name:t.name,album:t.al.name,artist:t.ar[0].name,albumId:t.al.id,albumPic:t.al.picUrl})}}}]);
//# sourceMappingURL=chunk-24ea52b6.57d22bbc.js.map