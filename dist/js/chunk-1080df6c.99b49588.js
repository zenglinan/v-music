(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1080df6c"],{"01fd":function(t,n,e){},1257:function(t,n,e){"use strict";var i=e("5a25");e.n(i).a},"15e3":function(t,n,e){"use strict";e.r(n);var i=e("2909"),a=e("5530"),s=e("7f5c"),r=e("ee34"),o=e("4e4f"),l=e("bc49"),c=e("2f62"),u={name:"NewSongs",mixins:[e("510f").a],data:function(){return{hotSingers:[],loadingMore:!1,allowToLoad:!0}},components:{NIcon:r.a,NScroll:o.a,NLoading:l.a},mounted:function(){this._getHotSingers(12)},methods:Object(a.a)({adjustPlaylist:function(t){var n=t.length?"180px":"";this.$refs.singerlist.$el.style.bottom=n,this.$refs.singerlist.refresh()},_getHotSingers:function(t){var n=this;Object(s.a)(t).then((function(t){var e;return t.data.artists.length||(n.listenToScroll=function(){}),n.allowToLoad=!0,n.loadingMore=!1,(e=n.hotSingers).push.apply(e,Object(i.a)(t.data.artists)),t.artists})).then((function(t){}))},listenToScroll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.y,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.maxScrollY;n<i+20&&this.allowToLoad&&(this.loadingMore=!0,this.allowToLoad=!1,this._getHotSingers(12))},toSingerDetail:function(t){this.$router.push({path:"/singer/".concat(t.id)}),this.setSinger(t)}},Object(c.d)({setSinger:"SET_SIGNER"}))},f=(e("b1fe"),e("2877")),d=Object(f.a)(u,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"singer"}},[t._m(0),e("div",{staticClass:"list"},[e("n-scroll",{ref:"singerlist",staticClass:"wrapper",attrs:{data:t.hotSingers,"probe-type":3},on:{scroll:t.listenToScroll}},[e("ul",[t._l(t.hotSingers,(function(n,i){return e("li",{key:i,staticClass:"singerItem",on:{click:function(e){return t.toSingerDetail(n)}}},[e("div",{staticClass:"name"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.picUrl+"?param=300x300",expression:"`${item.picUrl}?param=300x300`"}],attrs:{alt:"avatar"}}),e("span",[t._v(t._s(n.name))])]),e("div",{staticClass:"follow"},[t._v("+ 关注")])])})),e("n-loading",{directives:[{name:"show",rawName:"v-show",value:t.loadingMore,expression:"loadingMore"}],staticClass:"loadingMore"})],2)])],1),e("n-loading",{directives:[{name:"show",rawName:"v-show",value:!t.hotSingers.length,expression:"!hotSingers.length"}],staticClass:"loading"}),e("transition",{attrs:{name:"slide-fade"}},[e("router-view")],1)],1)}),[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",{staticClass:"header"},[e("div",{staticClass:"top"},[e("p",[t._v("全部歌手")])]),e("p",{staticClass:"bottom"},[t._v("热门歌手")])])}],!1,null,"0e609e6b",null);n.default=d.exports},2909:function(t,n,e){"use strict";function i(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.d(n,"a",(function(){return i}))},"510f":function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var i=e("5530"),a=e("2f62"),s={computed:Object(i.a)({},Object(a.c)(["playlist"])),mounted:function(){this.adjustPlaylist(this.playlist)},activated:function(){this.adjustPlaylist(this.playlist)},watch:{playlist:function(){this.adjustPlaylist(this.playlist)}},methods:{adjustPlaylist:function(t){throw Error("adjustPlaylist has not defined")}}}},"5a25":function(t,n,e){},"7f5c":function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return s}));var i=e("a417");function a(t){var n=a.offset;return a.offset+=t,Object(i.a)({url:"/top/artists",params:{limit:t,offset:n}})}function s(t){return Object(i.a)({url:"/artists",params:{id:t}})}a.offset=0},b1fe:function(t,n,e){"use strict";var i=e("01fd");e.n(i).a},bc49:function(t,n,e){"use strict";var i={name:"NLoading",components:{NIcon:e("ee34").a}},a=(e("1257"),e("2877")),s=Object(a.a)(i,(function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("n-icon",{staticClass:"icon",attrs:{href:"loading"}})],1)}),[],!1,null,"228f4f51",null);n.a=s.exports}}]);
//# sourceMappingURL=chunk-1080df6c.99b49588.js.map